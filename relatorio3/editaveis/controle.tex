\newpage
\section{Controle}
Todo sistema que trabalha com parâmetros críticos, precisa ser monitorado e controlado de uma forma que o sistema possa manter sua funcionalidade e integridade por mais tempo.
Sendo assim, considerando parâmetros cruciais dentro de um sistema de arrefecimento como temperatura, fluxo e pressão, 
o objetivo da equipe de Controle foi de mostrar uma proposta para o sistema de monitoramento e controle de tal sistema de arrefecimento considerando os âmbitos funcionais e financeiros, 
procurando encontrar a solução mais eficiente e funcional que o mercado possa oferecer.
\subsection{Comparação das propostas}
Houveram duas ideias iniciais que giravam em torno dos sensores de temperatura para a realização do monitoramento dos parâmetros críticos: a primeira delas era focar em um sensor de temperatura que iria ser posicionado juntamente ao sensor 
de pressão da Kistler o qual deve ser resfriado (proposta 1, sistema externo). 
Já a segunda ideia focaria em dois sensores mais baratos que seriam colocados um no 
reservatório e outro na tubulação de saída do sensor de pressão da Kistler e a diferença 
entre eles daria uma noção da temperatura geral do sistema e o quanto este deve ser 
resfriado (proposta 2, sistema interno).

Após melhor análise e estudo do problema, decidiu-se unir as duas propostas em uma só, criando uma terceira proposta que juntasse o melhor das duas.
Dessa forma, essa nova proposta consistiria em um projeto com três sensores de temperatura: um mais próximo do sensor de pressão da Kistler, um na tubulação de saída do próprio sensor e outro no reservatório do líquido, além dos outros sensores de pressão, nível e fluxo.

O diferencial da proposta final está no foco dado à cada sensor em diferentes períodos do teste do foguete híbrido. Durante a realização do teste, os sensores de temperatura internos (localizados no reservatório e na tubulação) serão analisados com maior atenção, a fim de manter a faixa de temperatura no nível de bom funcionamento do sensor de pressão da Kistler. Após o encerramento do teste, o foco principal estará no sensor de temperatura externo (localizado no adaptador da câmara de combustão).
\newpage
\begin{table}[]
    \centering
    \begin{tabular}{|p{3cm}|p{3cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{ITEM COMPARATIVO} & \textbf{PROPOSTA 1 (Externo)}    & \textbf{PROPOSTA 2 (Interno)} & \textbf{PROPOSTA FINAL (Redundância)}  \\ \hline
    Tipo de mensuração da temperatura no sensor de Pressão da Kistler      & Direta, feita através de um termopar conectado no adaptador do sensor de pressão &  Indireta, feita através da diferença de temperatura entre o sensor do reservatório e o de saída da tubulação &  Combinação das duas propostas, o que resulta em um sistema de redundância e uma escolha de foco na análise dos resultados dependendo da fase de testes  \\ \hline
    Confiabilidade nos dados de medição do parâmetro temperatura & Dependente apenas das informações advindas do sensor no adaptador & Dependente das informações advindas dos sensores na tubulação e no reservatório & Dependente de três sensores de temperatura, o que resulta em um sistema de redundância para este dado \\ \hline
    Flexibilidade em relação à defeitos nos sensores de temperatura & Com apenas um sensor, a suscetibilidade a erros é grande & Com dois sensores dependentes um do outro, a chance de erro é grande & Com um sistema de redundância implementado, as chances de erro diminuem e o sistema pode funcionar de maneira ininterrupta \\ \hline
    Custo total teorizado & Preço comercial de um termopar de qualidade, requer um maior investimento & Preço comercial de um sensor de temperatura simples, acessível & A soma das duas propostas citadas anteriormente \\ \hline
    \end{tabular}
    \caption{Propostas Controle}
    \end{table}

\subsection{Projeto Conceitual}

Considerando então os requisitos necessários para o bom funcionamento do sistema e a proposta definida, foram definidos seis sensores, sendo eles três de temperatura, um de pressão, um de fluxo e um de nível, que serão a porta de entrada de dados e realizarão o monitoramento dos parâmetros cruciais: temperatura, pressão e fluxo. Após diversas pesquisas, os modelos mais adequados para cumprirem essas funções foram:
\newpage
\begin{itemize}
    \item \textbf{Sensor de Temperatura para o adaptador da câmara de combustão}
\end{itemize}
\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.5]{figuras/Sensor1.eps}
	\caption{ Sensor de Temperatura para o adaptador da câmara de combustão } \label{figsensor1}        
\end{figure}

\begin{table}[!h]
    \centering
    \begin{tabular}{|p{5cm}|p{5cm}|p{5cm}|}
    \hline
    \textbf{MODELO} & \textbf{TEMPERATURA}    & \textbf{PREÇO}  \\ \hline
    TJ36-CASS-116G-6-CC-XCIB      & -200 ºC a 899 ºC &  R\$382,00  \\ \hline
    \end{tabular}
    \caption{Sensor de Temperatura para o adaptador da câmara de combustão}
    \end{table}

A escolha deste sensor se deve ao fato principalmente da magnitude da temperatura no adaptador que, por meio de simulações realizadas pelo grupo de transmissão de calor, alcança a faixa de até 450ºC, na posição em que o sensor de pressão principal está localizado. Foi estabelecido um fator de segurança igual a 2, teorizando uma temperatura máxima de 900ºC no adaptador, o que dá maior margem para erros e falhas. Dessa forma, a escolha de um termopar tipo K se justifica, se for considerado a faixa de medição padrão (-200ºC a 1250ºC) e a alta disponibilidade desse tipo de termopar no mercado.

Levando em consideração que os testes realizados no foguete híbrido estão entre 15 e 40 segundos, é necessário que o tempo de resposta dos sensores em geral esteja na escala de milissegundos, a fim de maximizar a coleta de dados e auxiliar na obtenção de resultados dos testes.

Segundo o Manual Técnico de Temperatura da empresa OMEGA, o tempo de resposta de um sensor é o tempo necessário para que um sensor responda a uma mudança de valor na temperatura.
\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=1.0]{figuras/Figura3.eps}
	\caption{Fonte: Manual Técnico de Temperatura} \label{figmtt}  
\end{figure}

\newpage

\begin{itemize}
    \item \textbf{Sensor de Temperatura para a tubulação e para o reservatório}
\end{itemize}
\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.5]{figuras/Figura4.eps}
	\caption{ Sensor de Temperatura para a tubulação e para o reservatório } \label{figsensor2}           
\end{figure}

\begin{table}[]
    \centering
    \begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{MODELO} & \textbf{TEMPERATURA}    & \textbf{PREÇO} & \textbf{TEMPO DE RESPOSTA} \\ \hline
    Sensor de Temperatura DS18B20      & -55 ºC até +125 ºC &  R\$16,80 & < que 750 ms  \\ \hline
    \end{tabular}
    \caption{Sensor de Temperatura para a tubulação e para o reservatório}
    \end{table}

Serão utilizados dois sensores deste tipo, um para o reservatório e outro para a tubulação. O sensor que vai no reservatório tem a finalidade de medir a temperatura no local, que segundo estudos do grupo de Transmissão de Calor, deverá estar na faixa de 25 à 30 ºC. A utilização desse sensor é vista como medida de redundância, onde sua principal função é a verificação do funcionamento do sistema de arrefecimento. 

Já o outro sensor, se encontra próximo a tubulação de saída do sensor de pressão da Kistler, com a finalidade de monitorar a temperatura da água na tubulação. Com as simulações do grupo de Transmissão de Calor foi definido que a temperatura do líquido na tubulação de saída será por volta de 90 ºC.

Outros fatores cruciais para a escolha desse sensor para essas duas áreas foram a faixa de medição (que é compatível com as duas localidades), o fato do sensor ser à prova d’água e seu tempo de resposta de menos de 750 ms

\begin{itemize}
    \item \textbf{Sensor de Pressão para a tubulação}
\end{itemize}
\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.3]{figuras/Figura_5.eps}
	\caption{ Sensor de Pressão para a tubulação} \label{figsensor3}          
\end{figure}

\begin{table}[!h]
    \centering
    \begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{MODELO} & \textbf{TEMPERATURA}    & \textbf{PREÇO} & \textbf{TEMPO DE RESPOSTA} \\ \hline
    MPX 2200 GP      & -40 a 125 ºC &  R\$55,00 & 1 ms  \\ \hline
    \end{tabular}
    \caption{Sensor de Pressão para a tubulação}
    \end{table}

A presença desse sensor baseia-se no fato de que um aumento significativo de pressão na tubulação pode gerar um rompimento das conexões, levando ao vazamento da água, e portanto, problemas no sistema de  resfriamento para o sensor.

\begin{itemize}
    \item \textbf{Sensor de Fluxo para a tubulação}
\end{itemize}
\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.5]{figuras/Figura6.eps}
	\caption{ Sensor de Fluxo para a tubulação}   \label{figsensor4}          
\end{figure}

\begin{table}[!h]
    \centering
    \begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{MODELO} & \textbf{TEMPERATURA}    & \textbf{PREÇO} \\ \hline
    YF-S401      & até 80 ºC &  R\$28,80  \\ \hline
    \end{tabular}
    \caption{Sensor de Fluxo para a tubulação}
    \end{table}

Este sensor de fluxo ficará posicionado na tubulação do sistema. Seu principal objetivo é monitorar o fluxo do líquido, a fim de acompanhar o funcionamento da bomba d’água. Este sensor servirá como mais um indicativo caso uma falha aconteça no funcionamento da bomba, já que os valores retornados pelo sensor serão fora do esperado, dando pistas sobre qual o possível problema. A escolha deste modelo de sensor de fluxo em específico, se deve a sua ampla utilização no mercado, a sua compatibilidade com diversos microcontroladores existentes.
\newpage
\begin{itemize}
    \item \textbf{Sensor de Nível para o reservatório}
\end{itemize}
\begin{figure}[!h]                  
	\centering                          
	\includegraphics[scale=0.2]{figuras/Figura_7.eps}
	\caption{ Sensor de Nível para o reservatório}   \label{figsensor5}       
\end{figure}

\begin{table}[!h]
    \centering
    \begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{NOME} & \textbf{TEMPERATURA}    & \textbf{PREÇO} \\ \hline
    Sensor de Nível de Água com Boia Horizontal      & -10 até +85ºC &  R\$24,90  \\ \hline
    \end{tabular}
    \caption{Sensor de Nível para o reservatório}
    \end{table}

A escolha por este sensor é semelhante à escolha do sensor de fluxo. Considerando o local onde será instalado, suas dimensões se adequam às dimensões do reservatório escolhido para guardar o líquido de arrefecimento, além de possuir compatibilidade com Arduino, PIC, ARM, AVR, dentre outras plataformas de prototipagem.

Cabe ressaltar que o uso de um sensor de nível para o reservatório é imprescindível, pois caso ocorra um vazamento, a leitura de dados indicará um problema, visto que se trata de um sistema fechado.

\subsection{Projeto Detalhado}

\begin{itemize}
    \item \textbf{Circuito Amplificador}
\end{itemize}

O grupo de controle determinou 5 sensores para o projeto do sistema de arrefecimento, assim é necessário analisar a necessidade de amplificação de sinais para a correta conectividade com a placa NI6320, que por sua vez aceita apenas sinais de tensão entre 0,2 e 10 Volts, visando assim ter uma maior confiabilidade nos dados transmitidos pelo sensor.
A tabela abaixo determina, para cada sensor a tensão:

\begin{table}[]
    \centering
    \begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{\#} & \textbf{Nome}    & \textbf{Modelo} & \textbf{Tensão de saída} \\ \hline
    1      & Sensor de pressão & MPX2200GP  & (-1mV, 40mV)  \\ \hline
    2 & Sensor de temperatura & DS18B20 & (0.5V, 4.5V) \\ \hline
    3 & Sensor de temperatura & TJ36-CASS-116G-6-CC-XCIB & (-6.5mV, -48.8mV) \\ \hline
    4 & Sensor de fluxo & YF-S401 & (4.5V) \\ \hline
    5 & Sensor de nível & NÃO ESPECIFICADO & (4.5V) \\ \hline
    \end{tabular}
    \caption{Tensão por sensor}
    \end{table}

De acordo com uma análise detalhada dos Datasheets usados no projeto de arrefecimento, foram determinadas as saídas de cada sensor. A partir dos requisitos da placa de desenvolvimento usada para o desenvolvimento do projeto é possível afirmar que apenas dois sensores necessitam de amplificação do sinal para a leitura correta. Para os sensores 2, 4 e 5 não há necessidade de amplificação dos sinais, já para os sensores 1 e 3 será necessário. 

O sensor 2 (sensor de temperatura DS18B20) providencia de 9 a 12 bits (configuráveis) que representam a temperatura do dispositivo. A informação é enviada do sensor por apenas um fio, ou seja, o sensor se comunica com a placa de forma serial. Portanto, a tensão de saída será do tipo degrau e representa uma comunicação digital com o microprocessador, do tipo nível lógico 0 ou 1. A partir do Datasheet, foi possível identificar que \textit{VLH} (voltagem do logic high - nível lógico alto) é de 4.5V e que \textit{VLL} (voltagem do low logic - nível lógico baixo) é de 0.5V.
Os sensores 4 e 5 são do tipo pulso magnético. O sensor 4 (sensor de fluxo YF-S401) possui uma estrutura similar a uma concha com pás e uma bobina que uma vez que o fluxo passe pelas pás, o mesmo, pela conservação do momento angular, gera movimento nas pás e, a cada pá que passa pela bobina ela, emite um pulso de corrente através de um fio para o microcontrolador. O sensor 5 (sensor de nível) funciona de maneira semelhante, porém, ao invés de um sistema de pás, a bobina gera um pulso cada vez que o fluxo gera empuxo no mecanismo de acionamento. A saída é, também, do tipo lógico, ou seja, 0.5V para \textit{VLL} e 4.5V para \textit{VLH}.

Os sensores 1 e 3 são do tipo divisores de tensão. A saída de tensão está relacionada com a alcance da grandeza medida (Para o sensor 1, pressão. Para o sensor 3, temperatura). A saída do sensor 1 está na faixa entre -1mV e 40mV e a do sensor 3 está na faixa entre -6.5mV e -48.8 mV.
Foi estabelecido que a amplificação dos sinais utilizará a faixa de 0,2 a 5V, logo é imprescindível o uso de amplificadores instrumentais. Estes conseguem amplificar a tensão e mudar a sua faixa de atuação. A tabela a seguir determina a transição de faixas de tensão que será feita pelos amplificadores:

\begin{table}[]
    \centering
    \begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{3cm}|}
    \hline
    \textbf{\#} & \textbf{Sensor}    & \textbf{Tensão de saída regular} & \textbf{Tensão de saída amplificada} \\ \hline
    1      & MPX2200GP & -1mV ~ 40mV   & 1V ~ 5V  \\ \hline
    2 & TJ36-CASS-116G-6-CCXCIB & -6,5mV ~ -48,8mV & 1V ~ 5V \\ \hline
    \end{tabular}
    \caption{Transição de faixas por amplificadores}
    \end{table}

O projeto de amplificação dos sinais utilizou o seguinte amplificador instrumental com os amplificadores operacionais LT071 que possuem pouca distorção de amplificação e podem ser encontrados facilmente no mercado.

\begin{figure}[!h]                  
	\centering                          
	\includegraphics[scale=0.5]{figuras/IMG1.eps}
	\caption{ Amplificador instrumental}  \label{figamp1}           
\end{figure}

A equação que relaciona a tensão de saída e a de entrada é dada pela seguinte expressão:
\begin{equation}\label{eq1tc}
    V_{out}=2*(\frac{R2}{R1})*(\frac{R4}{R3})*(V2-V1)
\end{equation}

O sensor 3 possui tensões de saída negativas, então ele será conectado a \textit{V1} para ser invertido. Já o sensor 1 possui tensões em maioria positivas, logo ele será conectado a \textit{V2}. Este cuidado é necessário para que não seja necessário o uso de resistências negativas no projeto.
Segue abaixo o desenvolvimento das expressões para determinar os resistores e a tensão auxiliar dos dois circuitos de amplificação instrumental.
\newpage
\begin{itemize}
    \item \textbf{Circuito Sensor 1 (Sensor de Pressão)}
\end{itemize}

\begin{equation}\label{eq1tc}
    \alpha = 2*(\frac{R2}{R1})*(\frac{R4}{R3})
\end{equation}
\begin{equation}\label{eq1tc}
    V1 = V_{aux}; V2 = V_{in}
\end{equation}
\begin{equation}\label{eq1tc}
    V_{out} = \alpha[V_{in} - V_{out}]
\end{equation}
\begin{equation}\label{eq1tc}
    5 = \alpha[40 * 10^{-3} - V_{aux}]; 1 = \alpha[-1 * 10^{-3} - V_{aux}]
\end{equation}
\begin{equation}\label{eq1tc}
    \frac{5}{\alpha} = 40 * 10^{-3} - V_{aux}; \frac{1}{\alpha} = -1 * 10^{-3} - V_{aux}
\end{equation}
\begin{equation}\label{eq1tc}
    \frac{5}{\alpha} = 40 * 10^{-3} - V_{aux}; \frac{-1}{\alpha} = 1 * 10^{-3} + V_{aux}
\end{equation}
\begin{equation}\label{eq1tc}
    \frac{4}{\alpha} = 41 * 10^{-3}
\end{equation}

Portanto $\alpha$ = 97,5609756097561.

\(V_{aux}\) = 11,25 mV.

Como $\alpha$ = 2 * \(\frac{R2}{R1}\), então precisamos escolher resistores comerciais que consigam chegar aproximadamente ao valor de $\alpha$, logo a escolha resultou nos resistores:

\begin{equation}\label{eq1tc}
    R2 = (910k\omega + 56k\omega + 9100\omega + 390\omega + 120\omega)
\end{equation}

\begin{equation}\label{eq1tc}
    R1 = (18k\omega + 1k\omega + 1k\omega)
\end{equation}

\begin{equation}\label{eq1tc}
    R4 = R3 = 100k\omega
\end{equation}

Desta forma, segue abaixo o circuito projetado e simulado, no software Proteus 8 Professional:

\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.6]{figuras/circ1.eps}
	\caption{ Simulação Circuito Amplificador 2 }  \label{figamp2}           
\end{figure}

\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.5]{figuras/circ2.eps}
	\caption{ Simulação Circuito Amplificador 2 – Tensão Máxima } \label{figamp21}                
\end{figure}

\begin{figure}[!htb]                  
	\centering                          
	\includegraphics[scale=0.45]{figuras/circ3.eps}
	\caption{ Simulação Circuito Amplificador 2 – Tensão Mínima }   \label{figamp22}              
\end{figure}


\begin{itemize}
    \item \textbf{Esquemáticos do Sistema de Controle}
\end{itemize}
Um esquemático é uma forma demonstração visual que possibilita uma visão mais concreta de como um projeto será construído. Sendo assim, tendo em vista que as definições dos produtos e componentes está concluída, será demonstrado a seguir todas as ligações e o funcionamento dos componentes que serão controlados pelo sistema a partir do software de simulações esquemáticas Fritzing.

\textbf{Componentes utilizados:}
\begin{itemize}
    \item 1 Arduino Uno
    \item 1 Módulo relé de 2 canais;
    \item 2 Módulos relé de 4 canais;
    \item 2 Bombas de água;
    \item 2 Válvulas duplas de água;
    \item 2 Ventoinhas;
    
\end{itemize}

\textbf{Microcontrolador:}
\begin{itemize}
    \item \textbf{Especificações:} O microcontrolador escolhido para o projeto foi o Arduino Uno Rev3, seu componente principal é o microcontrolador ATMEL ATMEGA328, um dispositivo de 8 bits da família AVR com arquitetura RISC avançada e com encapsulamento DIP28. Ele conta com 32 KB de Flash (mas 512 Bytes são utilizados pro bootloader), 2 KB de RAM e 1 KB de EEPROM. Pode operar a até 20 MHz, porém na placa Arduino UNO opera em 16 MHz. Quando o cabo USB é plugado a um PC por exemplo, a tensão não precisa ser estabilizada pelo regulador de tensão. Dessa forma a placa é alimentada diretamente pela USB.
    \item \textbf{Entradas e Saídas:} A placa Arduino UNO possui pinos de entrada e saídas digitais, assim como pinos de entradas e saídas analógicas.

    \begin{figure}[t]                  
        \centering                          
        \includegraphics[scale=0.8]{figuras/ard1.eps}
        \caption{ Pinos de entrada e saída no Arduino UNO R3 }  \label{figard1}               
    \end{figure}
    
    Conforme exibido na figura abaixo, a placa Arduino UNO possui 14 pinos que podem ser usados como entrada ou saída digitais. Estes Pinos operam em 5 V, onde cada pino pode fornecer ou receber uma corrente máxima de 40 mA. Cada pino possui resistor de pull-up interno que pode ser habilitado por software. Alguns desse pinos possuem funções especiais. Figura 1: Pinos de entrada e saída no Arduino UNO R3 Contudo, em nosso projeto iremos apenas utilizar as de pwm e as analogicas.
    PWM portas : 3,5,6,9,10 e 11; podem ser usados como saídas PWM de 8 bits através da função analogWrite();
    
    \item \textbf{Funcionamento:} O PWM, ou modulação de largura de pulso é uma técnica que nos permite ajustar o valor médio da tensão que está indo para o dispositivo eletrônico, ligando e desligando a potência a uma velocidade rápida. A tensão média depende do ciclo de trabalho, ou a quantidade de tempo em que o sinal está LIGADO versus a quantidade de tempo em que o sinal está DESLIGADO em um único período de tempo.

    \begin{figure}[hb]                  
        \centering                          
        \includegraphics[scale=1]{figuras/pwm1.eps}
        \caption{ Gráfico PWM }   \label{figpwm}              
    \end{figure}
    
\end{itemize}
\newpage
\textbf{Válvulas:}
\begin{itemize}
    \item \textbf{Especificações:} A válvula escolhida para o projeto é uma solenoide dupla Eletrolux. Ele nada mais é do que uma válvula eletromecânica controlada. Ela recebe o nome de solenóide devido ao seu componente principal ser uma bobina elétrica com um núcleo ferromagnético móvel no centro, sendo este núcleo chamado de êmbolo. Em uma posição de repouso, o êmbolo tampa um pequeno orifício por onde é capaz de circular um fluido. 
    Quando uma corrente elétrica circula através da bobina, esta corrente cria um campo magnético que por sua vez exerce uma força no êmbolo. Como resultado, o êmbolo é puxado em direção ao centro da bobina de modo que o orifício se abre.
    
    \item \textbf{Funcionamento:} As válvulas serão conectadas aos módulos relé na saída Normalmente Aberta e a fonte de 220V, que as alimentará, estará conectada na entrada de corrente do relé. Quando o relé for ativado pelo Arduino a fonte de 220V começa a funcionar e, assim, uma corrente elétrica circulará através da bobina. Esta corrente cria um campo magnético que por sua vez exerce uma força no êmbolo. Como resultado, o êmbolo é puxado em direção ao centro da bobina de modo que o orifício se abre liberando a passagem do líquido.
    
\end{itemize}

\textbf{Bombas:}
\begin{itemize}
    \item \textbf{Especificações:} O modelo da bomba escolhido foi o DC30QA-1230, trabalha com uma voltagem de 4.5Vdc a 12 Vdc e corrente máxima de 350mA. A bomba funciona por meio de um motor CC, que um motor alimentado por corrente contínua, sendo esta alimentação proveniente de uma bateria ou qualquer outra de alimentação CC. A sua troca de energia entre rotor e estator é sem escovas (brushless) e com relação a velocidade, o motor cc pode ser controlado apenas variando a sua tensão, diferentemente de um motor elétrico de corrente alternada (CA) cuja a velocidade é variada pela frequência. Os polos indicam a direção que o motor irá girar.

    \item \textbf{Funcionamento:} As Bombas serão conectadas aos módulos relé na saída Normalmente Aberta e a fonte de 12V, que as alimentará, estará conectada na entrada de corrente do relé. Quando o relé for ativado pelo arduino a fonte de 12V começa a funcionar e, assim, alimentará as bombas, fazendo-as funcionar. Os controles de qual estará ligada e sua velocidade será feita pelo Microcontrolador.

\end{itemize}
\newpage
\textbf{Módulos Relés:}
\begin{itemize}
    \item \textbf{Especificações:} O módulo relé é utilizado no controle do acionamento de cargas, onde nesse caso, possuem potência maior que a disponibilizada pela placa de processamento. O número de canais indica quantas cargas ou componentes são possíveis controlar por um único módulo.

    \item \textbf{Entradas, Saídas e Funcionamento:} O controle do relé é feito por meio da corrente que, neste projeto, virá de uma das saídas digitais do arduino. Dependendo da posição do jumper nas conexões de entrada do módulo (JD-Vcc e Vcc no lado oposto aos relés), pode-se usar somente a alimentação de 5V do arduino para alimentar o circuito por inteiro. Se retirarmos esse jumper uma outra fonte de energia de 5V será necessária para alimentar o relé.
    
    Para controlá-los, devemos conectar uma saída de 5V do arduino no Vcc do módulo onde podemos encontrar quatro pinos. Nos outros três pinos desta parte deve-se conectar o terra (GND) do arduino e duas saídas digitais (IN1 e IN2) que controlarão cada um dos relés do módulo. Pode-se notar que cada relé possui 3 parafusos ou bornes, neste caso totalizando 6 bornes. A corrente entra no borne central de cada relé e os outros dois bornes Normalmente Aberto (NA) e 
    
    Normalmente Fechado (NF) são de escolha do projetista. Se o fio que leva ao componente for conectado no borne NA. quando o relé estiver ligado o componente receberá corrente. Caso conectado no borne NF, o funcionamento será oposto, ligando o componente quando o relé estiver desligado e desligando quando ele for ligado no arduino.
    
    Para um módulo com mais canais, o funcionamento é o mesmo, tanto na questão da alimentação quanto na questão do controle, sendo que a única diferença é a quantidade de canais disponíveis para controle de cargas ou aparelhos, sendo que a forma como o controle é feita é da mesma maneira.

    \begin{figure}[hb]                  
        \centering                          
        \includegraphics[scale=0.6]{figuras/rele1.eps}
        \caption{ Módulo Relé de 2 Canais }   \label{figrele1}              
    \end{figure}

\end{itemize}
\newpage
\textbf{Ventoinhas:}
\begin{itemize}
    \item \textbf{Especificações:} A ventoinha escolhida para refrigerar o radiador que reduzirá a temperatura da água possui velocidade de rotação de aproximadamente 2000 RPM +- 10\%, trabalha com 12V e 0.35A de corrente, tendo conexão de 3 pinos que controla a rotação, alimentação e funcionamento do LED das pás.

    \item \textbf{Entradas e Funcionamento:} Por ter apenas três pinos em sua conexão, o cooler tem sua velocidade fixa, padronizada que não é o caso de coolers com quatro pinos. Cada pino leva a um fio e cada fio tem sua função. O fio preto é o terra que irá no negativo da fonte de 12V e o fio vermelho é o positivo de alimentação que irá diretamente no relé na saída Normalmente Aberta do relé, já o amarelo identifica a quantidade de voltas (RPM) do cooler e é conectado diretamente ao arduino em uma das entradas digitais. O positivo da fonte de 12V irá na entrada de corrente do relé.
\end{itemize}

\textbf{Esquemáticos:}
A imagem abaixo mostra uma visão geral de todas as conexões realizada pelo Microcontrolador "Arduino uno”. As cores dos fios indicam a voltagem:
\begin{itemize}
    \item Preto: GND 5V ou Neutros 
    \item Vermelho: VCC 5V 
    \item Verde: 12V 
    \item Azul: 220V
\end{itemize}

\begin{figure}[hb]                  
    \centering                          
    \includegraphics[scale=0.6]{figuras/siscontrole.eps}
    \caption{ Esquemático Geral Sistema de Controle }   \label{figsiscontrole}              
\end{figure}
\newpage
\begin{itemize}
    \item \textbf{Bombas 1 e 2:} As conexões das bombas de água são realizadas por meio de um módulo relé de 2 canais, ligados a uma fonte de 12V, juntamente dos pinos 11 e 10 do microcontrolador que são saídas de PWM para a regulação da velocidade dos motores da bomba.
    \begin{figure}[hb]                  
        \centering                          
        \includegraphics[scale=0.7]{figuras/bomb12.eps}
        \caption{ Esquemático Bombas 1 e 2 }   \label{figbomb12}              
    \end{figure}      

    \item \textbf{Válvulas de Entrada e Saída:} As conexões das Válvulas de água são realizadas por meio de um módulo relé de 4 canais, ligados a uma fonte de 220V ou 110V, dependendo da bobina que se encontra na válvula.
    Para elas são usados os pinos analógicas A0,A1,A2,A3 pois podem ser transformados em digitais, além de que a válvula não necessita de um PWM para controlar a abertura das válvulas.
    
    \begin{figure}[hb]                  
        \centering                          
        \includegraphics[scale=0.7]{figuras/valv1.eps}
        \caption{ Esquemáticos Válvulas 1 e 2 }   \label{figvalv12}              
    \end{figure} 
    \newpage
    \item \textbf{Ventoinhas:} As conexões das Ventoinhas são realizadas por meio de um módulo relé de 4 canais, ligados a uma fonte de 12V. Para ela são usados os pinos de PWM 3,5,6,7 pois necessitam que suas velocidades sejam reguladas.

    \begin{figure}[hb]                  
        \centering                          
        \includegraphics[scale=0.7]{figuras/vent1234.eps}
        \caption{ Esquemáticos Ventoinhas 1, 2, 3 e 4 }   \label{figvent1234}              
    \end{figure} 

\end{itemize}
\newpage
\textbf{Bill of Materials (BOM):} 

\begin{figure}[ht]                                          
    \includegraphics[scale=0.8]{figuras/bom.eps}
    \caption{ Diagrama Bill Of Materials }   \label{figbom}              
\end{figure} 

O sistema de controle é composto por 3 etapas distintas, o controle de temperatura, o controle de pressão e o controle do fluxo, sendo que todas elas possuem componentes específicos por área, e que atuam de maneira paralela para o funcionamento do todo, sendo interligadas pela placa de processamento para controle, como mostra na figura acima.

O controle de temperatura é dividido pelo subsistemas de: monitoramento de temperatura e controle de temperatura. O monitoramento é feito por três sensores de temperatura. Já o controle é feito a partir da placa de processamento que controla o acionamento de quatro ventoinhas por um módulo auxiliar.

O controle de pressão é composto pelo subsistema de monitoramento de pressão, sendo realizado por um sensor de pressão.

O controle de fluxo é dividido em subsistemas de: monitoramento de fluxo e controle de fluxo. Sendo que o monitoramento é feito por um sensor de fluxo, já o controle é realizado pela placa de processamento que controla duas bombas e duas válvulas por meio de módulos auxiliares, dependendo das condições do sistema.

Todos os componentes de cada etapa do sistema serão obtidos via fornecedores externos, e estão listados na tabela abaixo:

\begin{figure}[ht]                                          
    \includegraphics[scale=0.7]{figuras/bom1.eps}
    \caption{ Tabela Bill Of Materials }   \label{figbom1}              
\end{figure} 
